[pytest]
markers =
    env: tests requiring specific environment
    network: tests that mock HTTP calls
    no_legacy_skip: allow execution outside the legacy allowlist
# addopts disabled for minimal test sweep
# addopts = --cov=sentientos --cov-fail-under=80
addopts = -q
testpaths =
    tests/test_placeholder.py
    tests/test_task_executor.py
    tests/test_task_admission.py
    tests/test_plugin_bus.py
    tests/test_emotion_pump.py
    tests/test_audit_immutability.py
    tests/test_network_daemon.py
    tests/test_pulse_bus.py
    tests/test_pulse_persistence.py
    tests/test_pulse_priority.py
    tests/test_pulse_federation.py
    tests/test_architect_priorities.py
    tests/test_architect_federated_priorities.py
    tests/test_proof_validity.py
    tests/test_experiment_adapters.py
    tests/test_experiment_consensus.py
    tests/test_demo_gallery.py
    tests/test_redaction.py
    tests/test_secrets_scan.py
    tests/test_embeddings_migration.py
    tests/test_governance_drift_check.py
    tests/test_drift_alerts_contract.py
    tests/test_dashboard_drift_api.py
    tests/test_dashboard_event_stream.py
    tests/test_dashboard_sse_reconnect_smoke.py
    tests/test_dashboard_sse_streams.py
    tests/integrity/test_covenant_autoalign.py
    tests/test_event_stream_substrate.py
    tests/e2e/test_alert_rules.py
    tests/e2e/test_services.py
    tests/e2e/test_perf_targets.py
    tests/e2e/test_soak.py
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
